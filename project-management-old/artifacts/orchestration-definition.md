# Flutter Health Management App for Android

## Purpose

This orchestration generates a complete Flutter mobile application for Android that helps users manage their global health with a primary focus on weight loss. The orchestration produces comprehensive architecture documentation, UI/UX designs, data models, feature specifications, testing strategies, and implementation guides for an MVP that includes a subset of core health management modules. The app will be local-only (no cloud sync or authentication in MVP), include pre-populated recipe and exercise libraries, comprehensive automated testing, and basic progress tracking features. The orchestration ensures all components align with Flutter best practices, Clean Architecture patterns, and health domain requirements from the reference material.

## Personas

**Orchestrator**: Ensures all personas complete their work successfully. Tracks completion status and deadlines. Creates a short summary report that compiles the main information from each artifact generated. Generates a project status dashboard showing overall orchestration progress. Coordinates communication between personas. Generates all artifacts in the orchestration-analysis-report folder.

**Analyst**: Analyzes all artifacts and creates a comprehensive report that identifies contradictions between artifacts. Identifies trends and insights across all generated artifacts. Performs gap analysis to identify missing elements or unaddressed requirements. Creates quality metrics and completeness scoring for all artifacts. Generates risk assessment reports with mitigation strategies. Produces prioritized recommendations with implementation roadmaps. Generates all artifacts in the orchestration-analysis-report folder.

**Flutter Architect & Developer**: Designs the overall Flutter application architecture following Feature-First Clean Architecture patterns. Defines project structure, folder organization, and code organization patterns. Selects and configures state management solution (Riverpod - default). Creates dependency injection setup using Riverpod. Defines architectural patterns and establishes coding standards and best practices. Designs LLM API abstraction layer architecture for future post-MVP integration. Defines git commit message standards and git workflow process using CRISPE Framework. Produces architecture documentation and project structure specifications.

**UI/UX Designer**: Creates comprehensive design system with multiple options for user selection (colors, typography, spacing, components). Designs wireframes and user flows for all app screens. Creates UI mockups using ASCII art format in markdown files (not image files or design tools). Creates component specifications with ASCII representations. Defines accessibility requirements and guidelines (WCAG 2.1 AA compliance). Designs data visualization components (charts, graphs, progress indicators) using ASCII art. Creates responsive design guidelines for different screen sizes. All mockups must be in markdown files with ASCII art diagrams.

**Data Architect & Backend Specialist**: Designs database schema using Hive for local storage (MVP requirement). Creates data models and entity definitions for all health data types. Designs data access layer (repositories, data sources) following Clean Architecture. Defines data migration strategies and creates data validation and sanitization rules. Designs multi-device sync architecture using DreamHost PHP/MySQL backend with Slim Framework for post-MVP implementation. Creates MySQL database schema for future JSON data storage. Designs conflict resolution strategies (timestamp-based for MySQL). Creates sync status tracking and error handling specifications. Implements JWT authentication design using Slim middleware for post-MVP. Creates Slim Framework routes and controllers specifications for all sync operations. Sets up Slim Framework project structure and dependency injection design.

**Health Domain Expert**: Translates reference material from reference-material/artifacts/ into app feature specifications. Defines health metric tracking logic and calculations (7-day moving averages, plateau detection algorithms). Creates clinical safety protocols and alert systems with specific thresholds and durations. Defines medication management workflows and behavioral support features. Specifies habit tracking logic and ensures medical accuracy and safety in all health-related features. Produces health domain specifications that align with reference material requirements.

**Feature Module Developer (Health Tracking)**: Implements health tracking module specifications (weight, measurements, sleep, energy). Creates data visualization component specifications for health trends. Implements KPI tracking and non-scale victories specifications. Develops progress photo management specifications. Creates analytics and trend analysis feature specifications for basic progress tracking (MVP scope). Produces detailed feature specifications and implementation guides.

**Feature Module Developer (Nutrition & Exercise)**: Implements nutrition management module specifications (macro tracking, food logging, meal planning with manual sale entry). Creates recipe database structure and management specifications for pre-populated library. Implements sale-based meal planning feature specifications with manual entry system (grocery store API integration deferred to post-MVP). Creates sale item data models and shopping list management specifications. Implements exercise and movement tracking module specifications. Develops workout plan creation and management specifications. Creates integration specifications with Google Fit/Health Connect. Produces detailed feature specifications and implementation guides.

**Integration & Platform Specialist**: Implements Google Fit and Health Connect integration specifications. Creates manual sale item entry system specifications (grocery store API integration deferred to post-MVP). Implements sale data caching specifications for offline access. Handles bilingual support (French/English) specifications for Quebec grocery stores. Designs LLM API abstraction layer architecture with provider pattern for post-MVP easy model switching. Creates provider adapter specifications for multiple LLM APIs (DeepSeek, OpenAI, Anthropic, Ollama) for post-MVP. Implements configuration system specifications for runtime LLM provider/model selection (post-MVP). Implements notification system specifications for reminders and alerts. Implements local storage and offline-first functionality specifications. Handles Android platform-specific features and permissions specifications. Creates data export/import functionality specifications. Implements security measures specifications (HTTPS/SSL, JWT authentication, password hashing) for post-MVP. Produces integration specifications and platform-specific implementation guides.

**QA & Testing Specialist**: Creates comprehensive testing strategy (unit, integration, widget, e2e tests) with 80% minimum unit test coverage and 60% minimum widget test coverage requirements. Writes test specifications for all modules. Defines test data and mock objects. Creates testing automation frameworks specifications. Defines performance testing requirements. Creates accessibility testing guidelines. Produces testing strategy documentation and test specifications.

**Scrum Master**: Creates sprint planning documents using CRISPE Framework for sprint planning. Breaks down user stories into actionable tasks with technical references. Estimates user stories and tasks using Fibonacci story points. Creates structured sprint markdown documentation. Tracks sprint progress and completion status. Manages product backlog with feature requests and bug fixes. Creates feature request and bug fix forms using CRISPE Framework. Updates backlog status as items progress (Not Started → In Progress → Completed). Manages backlog refinement and prioritization. Generates sprint artifacts (sprint plans, retrospectives, velocity tracking). Ensures tasks reference specific technical documents, classes, and methods. Maintains sprint documentation and backlog with proper markdown formatting. Tracks backlog status history and updates Product Backlog table.

**Compiler**: Compiles all artifacts from the orchestration into a unified final product. Ensures consistent tone and language level across all documents. Creates polished, unified documentation structure with navigation. Generates comprehensive final deliverables including README, executive summary, and complete report. Produces all outputs in the final-product folder.

## Sequence

1. **Flutter Architect & Developer** defines overall Flutter application architecture - Reviews requirements.md and discovery answers to design Feature-First Clean Architecture structure. Defines project structure, folder organization, state management setup (Riverpod), dependency injection patterns, and coding standards. Designs LLM API abstraction layer architecture for post-MVP integration. Defines git commit message standards and git workflow process using CRISPE Framework. Produces architecture-documentation.md and project-structure-specification.md.

2. **UI/UX Designer** creates design system options and initial wireframes - Reviews requirements.md and architecture documentation to create multiple design system options (colors, typography, spacing, components) for user selection. Designs initial wireframes and user flows for core MVP screens. Creates component specifications with ASCII representations. Defines accessibility requirements (WCAG 2.1 AA). Produces design-system-options.md, wireframes.md, and component-specifications.md.

3. **Data Architect & Backend Specialist** designs database schema and data models - Reviews requirements.md, architecture documentation, and health domain requirements to design Hive database schema for local storage. Creates data models and entity definitions for all health data types (UserProfile, HealthMetric, Medication, Meal, Exercise, Recipe, etc.). Designs data access layer (repositories, data sources) following Clean Architecture. Defines data validation and sanitization rules. Designs post-MVP sync architecture using DreamHost PHP/MySQL with Slim Framework. Produces database-schema.md, data-models.md, and sync-architecture-design.md.

4. **Health Domain Expert** translates reference material into feature specifications - Reviews reference-material/artifacts/ and requirements.md to translate health management strategies into app feature specifications. Defines health metric tracking logic and calculations (7-day moving averages, plateau detection). Creates clinical safety protocols and alert systems with specific thresholds. Defines medication management workflows and behavioral support features. Produces health-domain-specifications.md and clinical-safety-protocols.md.

5. **Feature Module Developer (Health Tracking)** creates health tracking module specifications - Reviews architecture documentation, data models, and health domain specifications to create detailed health tracking module specifications. Specifies weight tracking, body measurements, sleep quality, energy levels, and resting heart rate features. Creates data visualization component specifications for health trends. Implements KPI tracking and non-scale victories specifications. Develops progress photo management specifications. Creates basic progress tracking analytics specifications (advanced analytics deferred to post-MVP). Produces health-tracking-module-specification.md.

6. **Feature Module Developer (Nutrition & Exercise)** creates nutrition and exercise module specifications - Reviews architecture documentation, data models, and health domain specifications to create detailed nutrition and exercise module specifications. Specifies macro tracking, food logging, meal planning with manual sale entry system. Creates recipe database structure specifications for pre-populated library. Implements sale item data models and shopping list management specifications (manual entry only, API integration deferred to post-MVP). Implements exercise and movement tracking module specifications. Develops workout plan creation and management specifications. Creates Google Fit/Health Connect integration specifications. Produces nutrition-module-specification.md and exercise-module-specification.md.

7. **Integration & Platform Specialist** creates integration and platform specifications - Reviews architecture documentation and feature specifications to create integration specifications. Implements Google Fit and Health Connect integration specifications. Creates manual sale item entry system specifications. Implements sale data caching specifications for offline access. Handles bilingual support (French/English) specifications. Designs LLM API abstraction layer architecture for post-MVP. Implements notification system specifications for reminders and alerts. Handles Android platform-specific features and permissions specifications. Creates data export/import functionality specifications. Implements security measures specifications for post-MVP. Produces integration-specifications.md and platform-specifications.md.

8. **QA & Testing Specialist** creates comprehensive testing strategy - Reviews all architecture, feature, and integration specifications to create comprehensive testing strategy. Defines unit test requirements (80% minimum coverage target), widget test requirements (60% minimum coverage target), integration test requirements, and e2e test requirements. Writes test specifications for all modules. Defines test data and mock objects. Creates testing automation frameworks specifications. Defines performance testing requirements. Creates accessibility testing guidelines. Produces testing-strategy.md and test-specifications.md.

9. **Scrum Master** creates sprint planning structure and backlog management - Reviews all specifications and requirements to create sprint planning structure using CRISPE Framework. Creates product backlog structure with feature requests and bug fix templates. Defines sprint planning document format with user stories, tasks, and technical references. Creates feature request and bug fix form templates. Establishes backlog status tracking system (Not Started → In Progress → Completed). Produces sprint-planning-template.md, product-backlog-structure.md, and backlog-management-process.md.

10. **Orchestrator** compiles summary report and status dashboard - Reviews all artifacts generated by previous personas to create executive summary compiling main information from each artifact. Generates project status dashboard showing overall orchestration progress and completion status. Tracks completion status and deadlines. Coordinates communication between personas. Produces orchestration-analysis-report/project-summary.md and orchestration-analysis-report/status-dashboard.md.

11. **Analyst** performs gap analysis and quality assessment - Analyzes all artifacts for contradictions, missing elements, and quality issues. Identifies trends and insights across all generated artifacts. Performs gap analysis to identify missing elements or unaddressed requirements. Creates quality metrics and completeness scoring for all artifacts. Generates risk assessment reports with mitigation strategies. Produces prioritized recommendations with implementation roadmaps. Produces orchestration-analysis-report/gap-analysis.md, orchestration-analysis-report/quality-metrics.md, orchestration-analysis-report/risk-assessment.md, and orchestration-analysis-report/recommendations.md.

12. **Compiler** compiles all artifacts into unified final product - Reads all artifacts from the orchestration to compile into a unified final product. Ensures consistent tone and language level across all documents. Creates polished, unified documentation structure. Generates outputs in final-product folder including README.md, executive-summary.md, complete-report.md, and navigation guide. Produces final-product/README.md, final-product/executive-summary.md, and final-product/complete-report.md.

## Artifact Organization

Artifact organization preferences will be defined in Step 2.6. Default structure will be used if no preferences are specified.

## Final Product Preferences

- Target Audience: Technical (developers and technical stakeholders)
- Tone: Professional
- Language Level: Technical Deep-Dive
- Structure: Multi-Document (organized by category with navigation)

